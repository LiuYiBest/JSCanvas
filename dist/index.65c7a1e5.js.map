{"mappings":"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","sources":["src/main.js"],"sourcesContent":["let canvas = document.getElementById(\"drawing-board\");\r\nlet ctx = canvas.getContext(\"2d\");\r\n\r\nlet eraser = document.getElementById(\"eraser\");\r\nlet brush = document.getElementById(\"brush\");\r\nlet remove = document.getElementById(\"remove\");\r\nlet ColorBtn = document.getElementsByClassName(\"color-item\");\r\nlet save = document.getElementById(\"save\");\r\nlet range = document.getElementById(\"range\");\r\n\r\nlet clear = false;\r\nlet lWidth = 2;\r\nautoSetSize(canvas);\r\nlistenToUser(canvas);\r\ngetColor();\r\n\r\nfunction autoSetSize(canvas) {\r\n    canvasSetSize();\r\n    function canvasSetSize() {\r\n        let pageWidth = document.documentElement.clientWidth;\r\n        let pageHeight = document.documentElement.clientHeight;\r\n        canvas.width = pageWidth;\r\n        canvas.height = pageHeight;\r\n    }\r\n    window.onresize = function () {\r\n        canvasSetSize();\r\n    };\r\n}\r\n\r\nfunction listenToUser(canvas) {\r\n    let painting = false;\r\n    let lastPoint = { x: undefined, y: undefined };\r\n    canvas.onmousedown = function (e) {\r\n        this.firstDot = ctx.getImageData(0, 0, canvas.width, canvas.height); //在这里储存绘图表面\r\n        painting = true;\r\n        let x = e.clientX;\r\n        let y = e.clientY;\r\n        lastPoint = { x: x, y: y };\r\n        ctx.save();\r\n        drawCircle(x, y, 0);\r\n    };\r\n    canvas.onmousemove = function (e) {\r\n        if (painting) {\r\n            let x = e.clientX;\r\n            let y = e.clientY;\r\n            let newPoint = { x: x, y: y };\r\n            drawLine(lastPoint.x, lastPoint.y, newPoint.x, newPoint.y, clear);\r\n            lastPoint = newPoint;\r\n        }\r\n    };\r\n    canvas.onmouseup = function () {\r\n        painting = false;\r\n    };\r\n    canvas.mouseleave = function () {\r\n        painting = false;\r\n    };\r\n\r\n}\r\n\r\nfunction drawCircle(x, y, radius) {\r\n    ctx.save();\r\n    ctx.beginPath();\r\n    ctx.arc(x, y, radius, 0, Math.PI * 2);\r\n    ctx.fill();\r\n    if (clear) {\r\n        ctx.clip();\r\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n        ctx.restore();\r\n    }\r\n}\r\n\r\nfunction drawLine(x1, y1, x2, y2) {\r\n    ctx.lineWidth = lWidth;\r\n    ctx.lineCap = \"round\";\r\n    ctx.lineJoin = \"round\";\r\n    if (clear) {\r\n        ctx.save();\r\n        ctx.globalCompositeOperation = \"destination-out\";\r\n        ctx.moveTo(x1, y1);\r\n        ctx.lineTo(x2, y2);\r\n        ctx.stroke();\r\n        ctx.closePath();\r\n        ctx.clip();\r\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n        ctx.restore();\r\n    } else {\r\n        ctx.moveTo(x1, y1);\r\n        ctx.lineTo(x2, y2);\r\n        ctx.stroke();\r\n        ctx.closePath();\r\n    }\r\n}\r\n\r\nrange.onchange = function () {\r\n    lWidth = this.value;\r\n};\r\n\r\neraser.onclick = function () {\r\n    clear = true;\r\n    this.classList.add(\"active\");\r\n    brush.classList.remove(\"active\");\r\n};\r\n\r\nbrush.onclick = function () {\r\n    clear = false;\r\n    this.classList.add(\"active\");\r\n    eraser.classList.remove(\"active\");\r\n};\r\n\r\nremove.onclick = function () {\r\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n    setCanvasBg(\"white\");\r\n};\r\n\r\nsave.onclick = function () {\r\n    let imgUrl = canvas.toDataURL(\"image/png\");\r\n    let saveA = document.createElement(\"a\");\r\n    document.body.appendChild(saveA);\r\n    saveA.href = imgUrl;\r\n    saveA.download = \"zspic\" + new Date().getTime();\r\n    saveA.target = \"_blank\";\r\n    saveA.click();\r\n};\r\n\r\nfunction getColor() {\r\n    for (let i = 0; i < ColorBtn.length; i++) {\r\n        ColorBtn[i].onclick = function () {\r\n            for (let i = 0; i < ColorBtn.length; i++) {\r\n                ColorBtn[i].classList.remove(\"active\");\r\n                this.classList.add(\"active\");\r\n                activeColor = this.style.backgroundColor;\r\n                ctx.fillStyle = activeColor;\r\n                ctx.strokeStyle = activeColor;\r\n            }\r\n        };\r\n    }\r\n}\r\n"],"names":[],"version":3,"file":"index.65c7a1e5.js.map","sourceRoot":"/__parcel_source_root/"}